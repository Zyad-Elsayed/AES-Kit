# AES-Kit
Different C# codes Related to AES encryption, Decryption, Key and IV generation  
---
# AESsy

## Overview
**SecureText** is a versatile command-line tool designed for encrypting and decrypting text or files using the Advanced Encryption Standard (AES). Built with C# and powered by the .NET framework, this tool supports AES-128, AES-192, and AES-256 encryption with customizable options. It offers both an interactive mode for beginners and a robust command-line interface for automation, making it ideal for developers, security enthusiasts, and anyone needing a reliable encryption solution. SecureText includes advanced features like password-based key derivation with a hashed salt password, ensuring flexibility and ease of use.

## Features
- **AES Encryption/Decryption**: Supports key sizes of 128-bit, 192-bit, and 256-bit with PKCS7 padding.
- **Flexible Output Formats**: Encrypts data in Base64 or Hex formats for easy handling and integration.
- **Dual Operation Modes**: 
  - **Interactive Mode**: Guides users through encryption/decryption with prompts.
  - **Command-Line Mode**: Allows scripting and automation with parameters.
- **Password-Based Key Derivation**: Derives secure keys and IVs from a password and a salt password, hashed with SHA-256 to a fixed 128-bit salt.
- **Salt Password Simplification**: Users can input any string as a salt password, which is consistently hashed for encryption and decryption.
- **File Support**: Encrypts and decrypts text from files or direct input.
- **Key Management**: Option to generate and save encryption keys, IVs, and salts to a file (`key_iv.txt`) for reuse.
- **Error Logging**: Supports logging errors to a file for troubleshooting.
- **Console Output**: Displays results directly in the console when requested.

## Usage
### Basic Encryption
Encrypt text using a manually provided key and IV:
```cmd
AESsy.exe -encrypt -text "Hello, World!" -key "0123456789ABCDEF0123456789ABCDEF" -iv "FEDCBA9876543210FEDCBA9876543210" -format base64
```

### Basic Decryption
Decrypt the encrypted text with the same key and IV:
```cmd
AESsy.exe -decrypt -text "<ENCRYPTED_TEXT>" -key "0123456789ABCDEF0123456789ABCDEF" -iv "FEDCBA9876543210FEDCBA9876543210"
```

### Encrypting a File
Encrypt the contents of an input file:
```cmd
AESsy.exe -encrypt -in input.txt -out encrypted.txt -key "0123456789ABCDEF0123456789ABCDEF" -iv "FEDCBA9876543210FEDCBA9876543210"
```

### Decrypting a File
Decrypt the contents of an encrypted file:
```cmd
AESsy.exe -decrypt -in encrypted.txt -out decrypted.txt -key "0123456789ABCDEF0123456789ABCDEF" -iv "FEDCBA9876543210FEDCBA9876543210"
```

### Password-Based Encryption
Encrypt text using a password and salt password (no manual key/IV required):
```cmd
AESsy.exe -encrypt -text "Sensitive Data" -password "MySecret" -salt "MySalt" -format base64 -console
```
- Output includes the derived salt, key, IV, and encrypted text.

### Password-Based Decryption
Decrypt using the same password and salt password:
```cmd
AESsy.exe -decrypt -text "<ENCRYPTED_TEXT>" -password "MySecret" -salt "MySalt" -console
```

### Interactive Mode
Run the tool without arguments to enter interactive mode:
```sh
AESsy.exe
```
- Follow prompts to choose encrypt/decrypt mode, key size, and input method.
- For password use, enter a password and salt password (any string), and the tool will derive the key and IV.

## Options
| Argument          | Description                                      |
|-------------------|--------------------------------------------------|
| `-encrypt`        | Enable encrypt mode                              |
| `-decrypt`        | Enable decrypt mode                              |
| `-text <string>`  | Input text for encryption/decryption             |
| `-in <file>`      | Input file path                                  |
| `-out <file>`     | Output file path                                 |
| `-key <hex>`      | AES key in hex (32, 48, or 64 chars for 128/192/256-bit) |
| `-iv <hex>`       | Initialization vector in hex (32 chars)          |
| `-password <string>` | Derive key/IV from this password              |
| `-salt <string>`  | Salt password (any string) for key derivation    |
| `-keysize <128/192/256>` | Key size selection (default: 256)         |
| `-format <base64/hex>` | Output format (default: base64)             |
| `-savekeyiv`      | Save generated key, IV, and salt to `key_iv.txt` |
| `-console`        | Print output to console                          |
| `-log`            | Log errors to `error_log.txt`                    |
| `-help`           | Display usage guide                              |


## How It Works
- **Encryption**: Input text or file content is encrypted using AES with a user-provided key/IV or a key/IV derived from a password and salt password. The salt is generated by hashing the salt password with SHA-256 and taking the first 16 bytes.
- **Decryption**: The same password and salt password are used to derive the key/IV, ensuring consistent decryption.
- **Security Note**: For production use, consider using random salts instead of hashed salt passwords for enhanced security, though this tool simplifies the process for convenience.

## Example Workflow
1. Encrypt in command-line mode:
   ```cmd
   SecureText.exe -encrypt -password "test" -salt "test" -text "test" -console
   ```
   Output:
   ```
   Generated Salt (from salt password): 9f86d081884c7d659a2feaa0c55ad015
   Derived Key: 991d8a5649ac136d7d9774067e1e76ad50dbd24715adf71c281fe8aaec7e60a1
   Derived IV:  015435727e5295968876a548e65673c6
   Encrypted (base64): fN48okGU3AV6Qlja/f7vxA==
   Final Output:
   fN48okGU3AV6Qlja/f7vxA==
   ```
2. Decrypt in command-line mode:
   ```cmd
   AESsy.exe -decrypt -password "test" -salt "test" -text "fN48okGU3AV6Qlja/f7vxA==" -console
   ```
   Output:
   ```
   Derived Salt (from salt password): 9f86d081884c7d659a2feaa0c55ad015
   Derived Key: 991d8a5649ac136d7d9774067e1e76ad50dbd24715adf71c281fe8aaec7e60a1
   Derived IV:  015435727e5295968876a548e65673c6
   Decrypted: test
   Final Output:
   test
   ```
